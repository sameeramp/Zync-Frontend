{"ast":null,"code":"import React,{useState}from\"react\";import IconButton from\"@mui/material/IconButton\";import ScreenShareIcon from\"@mui/icons-material/ScreenShare\";import StopScreenShareIcon from\"@mui/icons-material/StopScreenShare\";import*as webRTCHandler from\"../../../realtimeCommunication/webRTCHandler\";import{jsx as _jsx}from\"react/jsx-runtime\";const constraints={audio:false,video:true};const ScreenShareButton=_ref=>{let{localStream,screenSharingStream,setScreenSharingStream,isScreenSharingActive}=_ref;const handleScreenShareToggle=async()=>{if(!isScreenSharingActive){let stream=null;try{stream=await navigator.mediaDevices.getDisplayMedia(constraints);}catch(err){console.log(\"error occured when trying to get an access to screen share stream\");}if(stream){setScreenSharingStream(stream);webRTCHandler.switchOutgoingTracks(stream);}}else{webRTCHandler.switchOutgoingTracks(localStream);screenSharingStream.getTracks().forEach(t=>t.stop());setScreenSharingStream(null);}};return/*#__PURE__*/_jsx(IconButton,{onClick:handleScreenShareToggle,style:{color:\"white\"},children:isScreenSharingActive?/*#__PURE__*/_jsx(StopScreenShareIcon,{}):/*#__PURE__*/_jsx(ScreenShareIcon,{})});};export default ScreenShareButton;","map":{"version":3,"names":["React","useState","IconButton","ScreenShareIcon","StopScreenShareIcon","webRTCHandler","jsx","_jsx","constraints","audio","video","ScreenShareButton","_ref","localStream","screenSharingStream","setScreenSharingStream","isScreenSharingActive","handleScreenShareToggle","stream","navigator","mediaDevices","getDisplayMedia","err","console","log","switchOutgoingTracks","getTracks","forEach","t","stop","onClick","style","color","children"],"sources":["/home/sameeramp/Videos/Zync-Frontend/src/Dashboard/Room/RoomButtons/ScreenShareButton.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport IconButton from \"@mui/material/IconButton\";\r\nimport ScreenShareIcon from \"@mui/icons-material/ScreenShare\";\r\nimport StopScreenShareIcon from \"@mui/icons-material/StopScreenShare\";\r\nimport * as webRTCHandler from \"../../../realtimeCommunication/webRTCHandler\";\r\n\r\nconst constraints = {\r\n  audio: false,\r\n  video: true,\r\n};\r\n\r\nconst ScreenShareButton = ({\r\n  localStream,\r\n  screenSharingStream,\r\n  setScreenSharingStream,\r\n  isScreenSharingActive,\r\n}) => {\r\n  const handleScreenShareToggle = async () => {\r\n    if (!isScreenSharingActive) {\r\n      let stream = null;\r\n      try {\r\n        stream = await navigator.mediaDevices.getDisplayMedia(constraints);\r\n      } catch (err) {\r\n        console.log(\r\n          \"error occured when trying to get an access to screen share stream\"\r\n        );\r\n      }\r\n\r\n      if (stream) {\r\n        setScreenSharingStream(stream);\r\n        webRTCHandler.switchOutgoingTracks(stream);\r\n      }\r\n    } else {\r\n      webRTCHandler.switchOutgoingTracks(localStream);\r\n      screenSharingStream.getTracks().forEach((t) => t.stop());\r\n      setScreenSharingStream(null);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <IconButton onClick={handleScreenShareToggle} style={{ color: \"white\" }}>\r\n      {isScreenSharingActive ? <StopScreenShareIcon /> : <ScreenShareIcon />}\r\n    </IconButton>\r\n  );\r\n};\r\n\r\nexport default ScreenShareButton;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,KAAQ,OAAO,CACvC,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,MAAO,CAAAC,eAAe,KAAM,iCAAiC,CAC7D,MAAO,CAAAC,mBAAmB,KAAM,qCAAqC,CACrE,MAAO,GAAK,CAAAC,aAAa,KAAM,8CAA8C,CAAC,OAAAC,GAAA,IAAAC,IAAA,yBAE9E,KAAM,CAAAC,WAAW,CAAG,CAClBC,KAAK,CAAE,KAAK,CACZC,KAAK,CAAE,IACT,CAAC,CAED,KAAM,CAAAC,iBAAiB,CAAGC,IAAA,EAKpB,IALqB,CACzBC,WAAW,CACXC,mBAAmB,CACnBC,sBAAsB,CACtBC,qBACF,CAAC,CAAAJ,IAAA,CACC,KAAM,CAAAK,uBAAuB,CAAG,KAAAA,CAAA,GAAY,CAC1C,GAAI,CAACD,qBAAqB,CAAE,CAC1B,GAAI,CAAAE,MAAM,CAAG,IAAI,CACjB,GAAI,CACFA,MAAM,CAAG,KAAM,CAAAC,SAAS,CAACC,YAAY,CAACC,eAAe,CAACb,WAAW,CAAC,CACpE,CAAE,MAAOc,GAAG,CAAE,CACZC,OAAO,CAACC,GAAG,CACT,mEACF,CAAC,CACH,CAEA,GAAIN,MAAM,CAAE,CACVH,sBAAsB,CAACG,MAAM,CAAC,CAC9Bb,aAAa,CAACoB,oBAAoB,CAACP,MAAM,CAAC,CAC5C,CACF,CAAC,IAAM,CACLb,aAAa,CAACoB,oBAAoB,CAACZ,WAAW,CAAC,CAC/CC,mBAAmB,CAACY,SAAS,CAAC,CAAC,CAACC,OAAO,CAAEC,CAAC,EAAKA,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC,CACxDd,sBAAsB,CAAC,IAAI,CAAC,CAC9B,CACF,CAAC,CAED,mBACER,IAAA,CAACL,UAAU,EAAC4B,OAAO,CAAEb,uBAAwB,CAACc,KAAK,CAAE,CAAEC,KAAK,CAAE,OAAQ,CAAE,CAAAC,QAAA,CACrEjB,qBAAqB,cAAGT,IAAA,CAACH,mBAAmB,GAAE,CAAC,cAAGG,IAAA,CAACJ,eAAe,GAAE,CAAC,CAC5D,CAAC,CAEjB,CAAC,CAED,cAAe,CAAAQ,iBAAiB","ignoreList":[]},"metadata":{},"sourceType":"module"}