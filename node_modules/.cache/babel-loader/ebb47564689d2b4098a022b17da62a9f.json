{"ast":null,"code":"import*as api from\"../../api\";import{openAlertMessage}from\"./alertActions\";export const authActions={SET_USER_DETAILS:\"AUTH.SET_USER_DETAILS\"};export const getActions=dispatch=>{return{login:(userDetails,history)=>dispatch(login(userDetails,history)),register:(userDetails,history)=>dispatch(register(userDetails,history)),setUserDetails:userDetails=>dispatch(setUserDetails(userDetails))};};const setUserDetails=userDetails=>{return{type:authActions.SET_USER_DETAILS,userDetails};};const login=(userDetails,history)=>{return async dispatch=>{const response=await api.login(userDetails);console.log(response);if(response.error){var _response$exception,_response$exception$r;dispatch(openAlertMessage(response===null||response===void 0?void 0:(_response$exception=response.exception)===null||_response$exception===void 0?void 0:(_response$exception$r=_response$exception.response)===null||_response$exception$r===void 0?void 0:_response$exception$r.data));}else{const{userDetails}=response===null||response===void 0?void 0:response.data;localStorage.setItem(\"user\",JSON.stringify(userDetails));dispatch(setUserDetails(userDetails));history.push(\"/dashboard\");}};};const register=(userDetails,history)=>{return async dispatch=>{const response=await api.register(userDetails);console.log(response);if(response.error){var _response$exception2,_response$exception2$;dispatch(openAlertMessage(response===null||response===void 0?void 0:(_response$exception2=response.exception)===null||_response$exception2===void 0?void 0:(_response$exception2$=_response$exception2.response)===null||_response$exception2$===void 0?void 0:_response$exception2$.data));}else{const{userDetails}=response===null||response===void 0?void 0:response.data;localStorage.setItem(\"user\",JSON.stringify(userDetails));dispatch(setUserDetails(userDetails));history.push(\"/dashboard\");}};};","map":{"version":3,"names":["api","openAlertMessage","authActions","SET_USER_DETAILS","getActions","dispatch","login","userDetails","history","register","setUserDetails","type","response","console","log","error","_response$exception","_response$exception$r","exception","data","localStorage","setItem","JSON","stringify","push","_response$exception2","_response$exception2$"],"sources":["/home/sameeramp/Videos/Zync-Frontend/src/store/actions/authActions.js"],"sourcesContent":["import * as api from \"../../api\";\r\nimport { openAlertMessage } from \"./alertActions\";\r\n\r\nexport const authActions = {\r\n  SET_USER_DETAILS: \"AUTH.SET_USER_DETAILS\",\r\n};\r\n\r\nexport const getActions = (dispatch) => {\r\n  return {\r\n    login: (userDetails, history) => dispatch(login(userDetails, history)),\r\n    register: (userDetails, history) =>\r\n      dispatch(register(userDetails, history)),\r\n    setUserDetails: (userDetails) => dispatch(setUserDetails(userDetails)),\r\n  };\r\n};\r\n\r\nconst setUserDetails = (userDetails) => {\r\n  return {\r\n    type: authActions.SET_USER_DETAILS,\r\n    userDetails,\r\n  };\r\n};\r\n\r\nconst login = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.login(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n\r\nconst register = (userDetails, history) => {\r\n  return async (dispatch) => {\r\n    const response = await api.register(userDetails);\r\n    console.log(response);\r\n    if (response.error) {\r\n      dispatch(openAlertMessage(response?.exception?.response?.data));\r\n    } else {\r\n      const { userDetails } = response?.data;\r\n      localStorage.setItem(\"user\", JSON.stringify(userDetails));\r\n\r\n      dispatch(setUserDetails(userDetails));\r\n      history.push(\"/dashboard\");\r\n    }\r\n  };\r\n};\r\n"],"mappings":"AAAA,MAAO,GAAK,CAAAA,GAAG,KAAM,WAAW,CAChC,OAASC,gBAAgB,KAAQ,gBAAgB,CAEjD,MAAO,MAAM,CAAAC,WAAW,CAAG,CACzBC,gBAAgB,CAAE,uBACpB,CAAC,CAED,MAAO,MAAM,CAAAC,UAAU,CAAIC,QAAQ,EAAK,CACtC,MAAO,CACLC,KAAK,CAAEA,CAACC,WAAW,CAAEC,OAAO,GAAKH,QAAQ,CAACC,KAAK,CAACC,WAAW,CAAEC,OAAO,CAAC,CAAC,CACtEC,QAAQ,CAAEA,CAACF,WAAW,CAAEC,OAAO,GAC7BH,QAAQ,CAACI,QAAQ,CAACF,WAAW,CAAEC,OAAO,CAAC,CAAC,CAC1CE,cAAc,CAAGH,WAAW,EAAKF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC,CACvE,CAAC,CACH,CAAC,CAED,KAAM,CAAAG,cAAc,CAAIH,WAAW,EAAK,CACtC,MAAO,CACLI,IAAI,CAAET,WAAW,CAACC,gBAAgB,CAClCI,WACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAD,KAAK,CAAGA,CAACC,WAAW,CAAEC,OAAO,GAAK,CACtC,MAAO,MAAO,CAAAH,QAAQ,EAAK,CACzB,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAZ,GAAG,CAACM,KAAK,CAACC,WAAW,CAAC,CAC7CM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACG,KAAK,CAAE,KAAAC,mBAAA,CAAAC,qBAAA,CAClBZ,QAAQ,CAACJ,gBAAgB,CAACW,QAAQ,SAARA,QAAQ,kBAAAI,mBAAA,CAARJ,QAAQ,CAAEM,SAAS,UAAAF,mBAAA,kBAAAC,qBAAA,CAAnBD,mBAAA,CAAqBJ,QAAQ,UAAAK,qBAAA,iBAA7BA,qBAAA,CAA+BE,IAAI,CAAC,CAAC,CACjE,CAAC,IAAM,CACL,KAAM,CAAEZ,WAAY,CAAC,CAAGK,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,IAAI,CACtCC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAAChB,WAAW,CAAC,CAAC,CAEzDF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC,CAAC,CACrCC,OAAO,CAACgB,IAAI,CAAC,YAAY,CAAC,CAC5B,CACF,CAAC,CACH,CAAC,CAED,KAAM,CAAAf,QAAQ,CAAGA,CAACF,WAAW,CAAEC,OAAO,GAAK,CACzC,MAAO,MAAO,CAAAH,QAAQ,EAAK,CACzB,KAAM,CAAAO,QAAQ,CAAG,KAAM,CAAAZ,GAAG,CAACS,QAAQ,CAACF,WAAW,CAAC,CAChDM,OAAO,CAACC,GAAG,CAACF,QAAQ,CAAC,CACrB,GAAIA,QAAQ,CAACG,KAAK,CAAE,KAAAU,oBAAA,CAAAC,qBAAA,CAClBrB,QAAQ,CAACJ,gBAAgB,CAACW,QAAQ,SAARA,QAAQ,kBAAAa,oBAAA,CAARb,QAAQ,CAAEM,SAAS,UAAAO,oBAAA,kBAAAC,qBAAA,CAAnBD,oBAAA,CAAqBb,QAAQ,UAAAc,qBAAA,iBAA7BA,qBAAA,CAA+BP,IAAI,CAAC,CAAC,CACjE,CAAC,IAAM,CACL,KAAM,CAAEZ,WAAY,CAAC,CAAGK,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEO,IAAI,CACtCC,YAAY,CAACC,OAAO,CAAC,MAAM,CAAEC,IAAI,CAACC,SAAS,CAAChB,WAAW,CAAC,CAAC,CAEzDF,QAAQ,CAACK,cAAc,CAACH,WAAW,CAAC,CAAC,CACrCC,OAAO,CAACgB,IAAI,CAAC,YAAY,CAAC,CAC5B,CACF,CAAC,CACH,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module"}